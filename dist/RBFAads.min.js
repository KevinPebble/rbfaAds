function RBFAads(e,t){"use strict";if(!(this instanceof RBFAads))throw new Error("RBFAads is a constructor. It is mandatory to call it with the new operator.");location.href.match(/(\?|&)noads($|&|=)/)||(this.adsSiteConfig={},this.adsSiteConfig.location=document.getElementById("rbfaConfig").dataset.location,this.adsSiteConfig.subpage=document.getElementById("rbfaConfig").dataset.subpage||void 0,this.adsSiteConfig.tag=document.getElementById("rbfaConfig").dataset.tag||void 0,this.adsSiteConfig.adsConfig={leaderboard:{display:!0},rectangle:{display:!0},skyscraper:{display:!0}},this.adsSiteConfig.breakpoint=1440,this.adsSiteConfig.googleSizeMappingMatrix={desktop:{ViewportTreshold:[this.adsSiteConfig.breakpoint,0],leaderboard:[[728,90]],rectangle:[[300,250]],skyscraper:[[160,600],[120,600]]},mobile:{ViewportTreshold:[0,0],leaderboard:[[320,50],[300,50]],rectangle:[[300,250]],skyscraper:[]}},this.deviceMode=window.innerWidth>this.adsSiteConfig.breakpoint?"desktop":"mobile",this.adPositions=this.buildAdsConfig(this.adsSiteConfig.adsConfig))}RBFAads.prototype.init=function(){return this.LoadGoogle(this.adPositions),this.videoURL=this.GetVideoURL(),this},RBFAads.prototype.isHidden=function(e){var t=e.getBoundingClientRect();return void 0!==t.x&&void 0!==t.y?0===t.x&&0===t.y&&0===t.width&&0===t.height:void 0!==t.left&&void 0!==t.top?0===t.top&&0===t.left&&0===t.width&&0===t.height:!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},RBFAads.prototype.buildAdsConfig=function(e){var t,i={};for(t in this.adCounter=this.adCounter||{},e)if(e.hasOwnProperty(t)){var o=document.getElementsByClassName(t),a=Array.prototype.slice.call(o);if(0!==a.length)for(x=0;x<a.length;x++)this.isHidden(a[x])||void 0!==a[x].dataset.prepared&&"true"===a[x].dataset.prepared||(this.adCounter[t]=void 0===this.adCounter[t]?1:this.adCounter[t]+1,a[x].id=t+this.adCounter[t],a[x].dataset.prepared=!0,i[a[x].id]={},i[a[x].id].positionName=a[x].id,i[a[x].id].positionCount=this.adCounter[t],i[a[x].id].container=a[x],i[a[x].id].formatName=t)}return i},RBFAads.prototype.LoadGoogle=function(e){this.GoogleAds={};var i=this;googletag.cmd.push(function(e){for(position in e){i.GoogleAds[position]=googletag.defineSlot("/22273444627/"+i.adsSiteConfig.location,[[999,999]],position).addService(googletag.pubads());var t=googletag.sizeMapping().addSize(i.adsSiteConfig.googleSizeMappingMatrix.desktop.ViewportTreshold,i.adsSiteConfig.googleSizeMappingMatrix.desktop[e[position].formatName]).addSize(i.adsSiteConfig.googleSizeMappingMatrix.mobile.ViewportTreshold,i.adsSiteConfig.googleSizeMappingMatrix.mobile[e[position].formatName]).build();i.GoogleAds[position].defineSizeMapping(t)}googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.pubads().enableLazyLoad({fetchMarginPercent:500,renderMarginPercent:100,mobileScaling:2}),void 0!==i.adsSiteConfig.subpage&&""!==i.adsSiteConfig.subpage&&googletag.pubads().setTargeting("Subpage",i.adsSiteConfig.subpage),void 0!==i.adsSiteConfig.tag&&""!==i.adsSiteConfig.tag&&googletag.pubads().setTargeting("tag",i.adsSiteConfig.tag),googletag.enableServices(),googletag.display(Object.keys(i.GoogleAds)[0])}(e))},RBFAads.prototype.GetVideoURL=function(){var e="https://pubads.g.doubleclick.net/gampad/ads?iu=/22273444627/";return e+=this.adsSiteConfig.location,e+="&description_url="+document.location.href,e+="&cust_params=",e+=void 0!==this.adsSiteConfig.subpage&&""!==this.adsSiteConfig.subpage?"Subpage%3D"+this.adsSiteConfig.subpage.replace(/;/g,"%2C"):"",e+=void 0!==this.adsSiteConfig.tag&&""!==this.adsSiteConfig.tag?"%26tag%3D"+this.adsSiteConfig.tag.replace(/;/g,"%2C"):"",e+="&tfcd=0&npa=0&sz=640x360&max_ad_duration=30000&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=&nofb=1&vad_type=linear"},RBFAads.prototype.loadMoreAds=function(){var e=this.buildAdsConfig(this.adsSiteConfig.adsConfig);console.log(e),Object.assign(this.adPositions,e),this.LoadGoogle(e)},RBFAads.prototype.reset=function(){for(position in this.adPositions)null!==document.getElementById(position)&&(document.getElementById(position).dataset.prepared=!1,document.getElementById(position).id="");googletag.destroySlots(),googletag.pubads().clearTargeting(),void 0!==document.getElementById("rbfaConfig")&&null!==document.getElementById("rbfaConfig")&&(this.adsSiteConfig.location=document.getElementById("rbfaConfig").dataset.location,this.adsSiteConfig.subpage=document.getElementById("rbfaConfig").dataset.subpage||void 0,this.adsSiteConfig.tag=document.getElementById("rbfaConfig").dataset.tag||void 0),this.adPositions=this.buildAdsConfig(this.adsSiteConfig.adsConfig),this.init()};var googletag=window.googletag||{cmd:[]};function debounce(t){let i;return function(e){i&&clearTimeout(i),i=setTimeout(t,500,e)}}window.addEventListener("CookiebotOnConsentReady",function(e){console.log("Consent received! fire the admanager!"),window.rbfaAds=new RBFAads($,googletag).init()},!1),window.addEventListener("resize",debounce(function(e){console.log("end of resizing"),console.log(e);e=window.innerWidth>rbfaAds.adsSiteConfig.breakpoint?"desktop":"mobile";e!==rbfaAds.deviceMode?(console.log("performing reset"),rbfaAds.deviceMode=e,rbfaAds.reset()):console.log("No need to reset")}));